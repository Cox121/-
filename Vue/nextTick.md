# 1. 实现原理
维护一个执行队列，保存需要延迟调用的回调函数，在下一个微任务触发或者宏任务触发过程中，循环调用执行队列内函数，并将执行队列清空。  
其回调函数一般为触发在当前任务中需要更新的所有`Watcher`的更新。  
如果不存在回调函数的话，会返回一个`Promise`，并且其`resolve`会被闭包引用，并且`resolve`的调用会被封装成一个任务添加进执行队列。

## 1.1 微任务或者宏任务的选择机制
1. `Promise`
2. `MutationObserver`
3. `setImmediate`
4. `setTimeout`

