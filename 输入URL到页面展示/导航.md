# 1. 用户输入
## 1.1 执行`beforeunload`
## 1.2 浏览器进入加载页面状态
标签上的小图标变成加载中状态
## 1.3 判断输入的是`url`还是关键字
* 输入的是关键字：根据浏览器默认搜索引擎生成带关键字的搜索引擎`url`
* 输入的是`url`：如果`url`未标明协议则补充上`http://`
# 2. 请求过程
处理完用户输入后，浏览器进程将`url`发送给网络进程
## 2.1 检查缓存
网络进程根据`url`检查是否存在缓存，存在缓存则直接将返回给浏览器进程，如果不存在缓存则继续下面的流程。
## 2.2 建立连接
通过`DNS`解析，查找到服务器的`IP`地址，通过`IP`地址，跟服务器建立`TCP`连接。如果请求协议是`HTTPS`则还需要建立需要建立`TLS`。
## 2.3 发起请求
构建请求头、请求行，并将该域名相关的`cookies`添加到请求头中，并发送给服务器。
## 2.4 处理响应
服务器收到请求信息后，生成响应内容，并发送给网络进程，网络进程开始处理响应内容。
### 2.4.1 判断响应状态
* 301/302：表示需要重定向，根据响应头中`Location`字段的地址，重新开始请求过程。
* 200：表示请求成功，继续后面流程。
### 2.4.2 判断`Content-Type`
* `applaction/octet-stream`：表示响应内容为字符流类型，交给下载器进行下载。
* `text/html`：表示响应内容为`html`,继续后面流程。
# 3. 准备渲染进程
如果浏览器认为新页面跟父页面不同站点，则会重新创建一个渲染进程，如果同站点，则会共用一个渲染进程。
> 同站点：两个页面的协议、根域名都相同的站点。
# 4. 提交文档
## 4.1 消息流转
准备好渲染进程后，网络进程将响应头信息提交给浏览器进程，浏览器进程发送提交导航消息给渲染进程。
## 4.2 提交过程
渲染进程收到提交导航消息后，通知网络进程，两者之间开始建立起数据传输的管道，开始数据传输。
## 4.3 改变状态
数据传输完成后，渲染进程发送通知给浏览器进程，浏览器进程改变地址栏的`url`、安全状态、前进后退状态、清空原先页面变成白屏。  

提交文档结束后，开始页面渲染流程。